# SDK  9.3 implement 13 14 15

## í”„ë¡œì„¸ìŠ¤ ì •ë¦¬

Capacity + Cost = ì›ê°€

SDK

Integration framework ëŒ€ì‹  B1F.

Service Layer : ê¸°ì¡´ ì„¤ì¹˜í˜• í´ë¼ì´ì–¸íŠ¸ ì„œë¹„ìŠ¤ê°€ ì•„ë‹ˆë¼ serverë‹¨, DIì„œë²„ì—ì„œ ë°œì „, ë¶„ì‚° ì²˜ë¦¬ì— ê°•í•¨.

ê´€ë¦¬íšŒê³„ / ì†ìµíšŒê³„ = ì›ìž¬ë£Œì˜ ì›ê°€ë¶€í„° ë‚´ì •ë˜ì–´ ìžˆëŠ” ì œí’ˆì˜ í‘œì¤€ì›ê°€ê¹Œì§€ íŒë‹¨í•´ ì´ ì œí’ˆì˜ ì›ê°€ ê°€ì¹˜ê°€ ë‚®ì€ì§€ / ë†’ì€ì§€ íŒë‹¨í•˜ëŠ” ê²ƒ!



### ë§ˆìŠ¤í„° ë°ì´í„°

- BP

- MM

- í’ˆëª© ê·¸ë£¹

  - ìƒí’ˆ

  - ì œí’ˆ

    ë°˜ì œí’ˆ(ì¤‘ê°„ìž¬)
    - ì›ìž¬ë£Œ : ìˆ˜ëŸ‰ ê´€ë¦¬, ë¬¼ë¦¬ì ìœ¼ë¡œ ì¹´ìš´íŒ… (ì˜ˆ : ë°•ìŠ¤, ê°œ)
    - ì›ë£Œ : ë‹¨ìœ„ë¡œ ê´€ë¦¬, ì–‘ì ìœ¼ë¡œ ì¹´ìš´íŒ… ( ì˜ˆ : ì•¡ì²´ )

- GL ê³„ì •ê³¼ëª©.

  - ì¡°ì •ê³„ì •

     : 14ì¼ ë‹¨ê°€ 10ì› -> 17ì¼ ë‹¨ê°€ 9ì›ìœ¼ë¡œ ë³€í–ˆë‹¤. ì´ë•Œ ì¡°ì •ê³„ì •ìœ¼ë¡œ ì¡°ì ˆ

  - wip ì°¨ì´ ê³„ì •

- ê°€ê²© ë¦¬ìŠ¤íŠ¸

- ë¦¬ë“œ íƒ€ìž„ : ìƒì‚°ë§ˆê°ì‹œê°„ì´ ìžˆì„ë•Œ, ì–´ëŠì‹œì ì— íˆ¬ìž…í• ì§€ ì •í•˜ëŠ” ê²ƒ. 

  ê° ê³µì •ë§ˆë‹¤ ì›ë‹¨, ì‹¤ .. ë“±ì„ íˆ¬ìž…í•´ì•¼ í• ê²ƒ ì´ë‹¤. ë§ˆì§€ë§‰ ê³µì •ì— ë‹¨ê°€ê°€ ë‚®ì€ ì†Œëª¨í’ˆ ìž¬ê³ ë¥¼ íˆ¬ìž…í•˜ëŠ” ê²ƒì„ íŒë‹¨í•˜ëŠ” ê²ƒì´ ì˜ˆê°€ ë  ìˆ˜ ìžˆë‹¤.

### ìƒì‚°

ê°ê°€ìƒê°

ë‚´ìš© ì—°ìˆ˜ : ê°ê°€ìƒê°ì´ ì ìš©ë˜ëŠ” ê¸°ê°„ì˜ ì—°ìˆ˜

EX) ë…¸íŠ¸ë¶ì„ 100ë§Œì›ì— ì·¨ë“í•´ 4ë…„ ë’¤ 20ë§Œì›ì˜ ìž”ì¡´ê°€ì¹˜ê¹Œì§€ ì •ì•¡ë²•ìœ¼ë¡œ ê°ê°€ìƒê°ì„ ê³„ì‚°í•œë‹¤ ê°€ì •í•˜ë©´

1ë…„ ë’¤ì— ê°ê°€ìƒê°ë¹„ëŠ” (100-20)X(1/4)=80ë§Œì›, 2ë…„ ë’¤ì— 60ë§Œì›, 4ë…„ë’¤ì— 20ë§Œì›

ì´ ê²½ìš°ì— ë‚´ìš© ì—°ìˆ˜ëŠ” 4ë…„ì´ë‹¤.



ìƒì‚°ì— ì†Œë¹„ëœ ìž¬ë£Œì˜ ë¶„ê°œ

ì´ë™í‰ê· ìœ¼ë¡œ ê¸ˆì•¡ ìž¬ë£Œë¹„ ë˜ëŠ” WIP (Work In Process) 

* WIP : ìƒì‚°ê´€ë¦¬ ê³¼ì •ì—ì„œ ì›ë‹¨, ì—¼ìƒ‰ì•½ ... ë“± ì›ìž¬ë£Œë¥¼ ëŒ€ì°¨ë³€ì— ë‚˜íƒ€ë‚¼ë•Œ ì‚¬ìš©í•œë‹¤. ê°€ê³„ì •ê³¼ ë¹„ìŠ·í•œ ê°œë…

  WIP ì°¨ì´ ê³„ì • - ì°¨, ëŒ€ë³€ì— ìœ„ì¹˜í•œ WIP ê°’ì˜ ì°¨ì´ë§Œí¼ ì¡°ì •í•˜ê¸° ìœ„í•œ ê³„ì •



| ìƒì‚° | ì°¨                                       | ëŒ€           |
| ---- | ---------------------------------------- | :----------- |
| ì˜¤ë” | WIP / ìž¬ë£Œë¹„ (ì´ë™ í‰ê·  ê¸ˆì•¡)            | ì›ìž¬ë£Œ       |
| ìž…ê³  | ì œí’ˆ                                     | ì§ ê°„ì ‘ ë¹„ìš© |
|      | ì œì¡°ì›ê°€(ë…¸ë¬´ë¹„, ìž¬ë£Œë¹„, ê²½ë¹„ ) í‘œì¤€ì›ê°€ | WIP          |

ì›ê°€ = ì œì¡°ì›ê°€ + ì˜ì—…ë¹„ìš©(= íŒë§¤ë¹„ + ê´€ë¦¬ë¹„)



# ì§ˆì˜

UI API, DI API ë¥¼ ì´ìš©í•´ì„œ  DBì¶”ê°€, TABLE ì¶”ê°€ í•˜ë¯€ë¡œì¨ ì½”ë”©ì—†ì´ ì‚¬ìš©ìž APIë¥¼ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì„ ì½”ì–´ì—ì„œ ì œê³µí•´ ì¤€ë‹¤. ì´ ê³¼ì •ì—ì„œ ì§ˆì˜ ì‚¬ìš©í•œë‹¤. 



### ì»¤ìŠ¤í„°ë§ˆì´ì§• íˆ´

[ë·° - ì‹œìŠ¤í…œì •ë³´ í™œì„±í™”] : í•„ë“œì˜ í…Œì´ë¸” ì´ë¦„ ì•Œ ìˆ˜ ìžˆë‹¤. 



### ì§ˆì˜ íˆ´

#### ì§ˆì˜ ìƒì„±ê¸°ì˜ ì§ˆì˜ìš”ì†Œ - WHEREì ˆ

##### ì¡°íšŒ

ë§ˆê°("C") êµ¬ë§¤ì˜¤ë” ì¡°íšŒ

```mssql
SELECT T0.[DocNum], T0.[CardCode], T0.[CardName], T0.[DocTotal] 
FROM OPOR T0 WHERE T0.[DocStatus]  = 'C' 
ORDER BY T0.[DocDate]
```



ì „ê¸°ì¼ ê°’ì„ í˜„ìž¬ì¼ìžì—ì„œ -7 ê³„ì‚° ì¡°íšŒ

```mssql
SELECT T0.[CardCode], T0.[CardName], T0.[DocTotal], T0.[DocNum] 
FROM OPOR T0 WHERE T0.[DocStatus]  = 'C' 
and T0.[DocDate] > ADD_DAYS(Current_Date, -7)
ORDER BY T0.[DocDate]
```



8ë…„ ì „ ë¬¸ì„œ ë°ì´í„° ì¡°íšŒ

```mssql
SELECT T0.[CardCode], T0.[CardName], T0.[DocTotal], T0.[DocNum] 
FROM OPOR T0 WHERE T0.[DocStatus]  = 'C' 
and T0.[DocDate] >= DateAdd(YY, -8, getDate())
ORDER BY T0.[DocDate]
```



##### ë§¤ê°œë³€ìˆ˜ ì‚¬ìš© 

íŠ¹ì • ê¸°ê°„ ë™ì•ˆì˜ ë¬¸ì„œ ì¡°íšŒ

```mssql
SELECT T0.[CardCode], T0.[CardName], T0.[DocTotal], T0.[DocNum] 
FROM OPOR T0 WHERE T0.[DocStatus]  = 'C' 
and T0.[DocDate] >= [%0] and T0.[DocDate] <= [%1]
ORDER BY T0.[DocDate]
```

```mssql
SELECT T0.[CardCode], T0.[CardName], T0.[DocTotal], T0.[DocNum] 
FROM OPOR T0 WHERE T0.[DocStatus]  = 'C' 
and T0.[DocDate] between [%0] and [%1]
ORDER BY T0.[DocDate]	
```



#### ì§ˆì˜ ìƒì„±ê¸°ì˜ ì§ˆì˜ìš”ì†Œ - Group Byì ˆ

íŠ¹ì •ê³ ê°ì— ëŒ€í•œ inputì´ ìžˆê³  ì—°ë„ë³„, ê³ ê°ë³„ doctotal summaryë¥¼ ì¶œë ¥, ì •ë ¬ í•˜ê¸° ìœ„í•´ ì‚¬ìš© 

ì •í™•í•˜ì§€ ì•ŠìŒ. ì •ì • ë¶€íƒë“œë ¤ìš”.

```mssql
SELECT COUNT(T0.[CardCode]), T0.[CardName], SUM(T0.[DocTotal]), T0.[DocNum] 
FROM OPOR T0 WHERE T0.[DocStatus]  = 'C' 
and T0.[DocDate] between [%0] and [%1]
GROUP BY DATEPART(T0.[DocDate],year)
ORDER BY T0.[DocDate]	
```

```mssql
SELECT YEAR(T0.[DocDate]) AS YEAR, T0.[CardName], SUM(T0.[DocTotal])
FROM OPOR T0
WHERE T0.[CardName] = '[%0]'
GROUP BY YEAR(T0.[DocDate]), T0.[CardName]
ORDER BY YEAR(T0.[DocDate])
```



#### ì¡°ì¸

```mssql
SELECT T0.[CardCode]), T0.[CardName], T0.[DocNum], T0.[DocTotal], T0.[Balance], T1.[ListNum]
FROM OPOR T0 INNER JOIN OCRD T1 ON T0. [CardCode] = T1.[CardCode]
WHERE T0.[DocStatus]  = 'C' 
```



#### í™œì„± ìœˆë„ìš°ì˜ í•„ë“œë¥¼ ì°¸ì¡°í•˜ëŠ” ì§ˆì˜

íŒë§¤ ì˜¤ë”ì˜ ê³ ê°/ê³µê¸‰ì—…ì²´ ì½”ë“œì— í•´ë‹¹í•˜ëŠ” ê³„ì •ìž”ì•¡ ê°’ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì§ˆì˜

```mssql
SELECT DISTINCT T0.[Balance]
FROM OCRD T0
INNER JOIN ORDR T1 ON T0.[CardCode] = T1.[CardCode]
WHERE ($[ORDR.CardCode] = T0.[CardCode])
```



### ì‚¬ìš©ìž ì •ì˜ í•„ë“œ UDF

#### ì‚¬ìš©ìž ì •ì˜ í•„ë“œ ì¶”ê°€ 

[íˆ´ - ì»¤ìŠ¤í„°ë§ˆì´ì§• íˆ´ - ì‚¬ìš©ìž ì •ì˜ í•„ë“œ - ê´€ë¦¬]

í—¤ë”ë ˆë²¨ì— ì¶”ê°€ëœ UDFëŠ” ì²˜ìŒ ë³„ë„ ìœˆë„ìš° í‘œì‹œê°€ ëœë‹¤. [ë·° - ì‚¬ìš©ìž ì •ì˜ í•„ë“œ]



#### ì‚¬ìš©ìž ì •ì˜ í•„ë“œ ì´ë™ê°€ëŠ¥

ì˜ˆ) íŒë§¤ ì˜¤ë” ë¬¸ì„œì—ì„œ ê³„ì • ìž”ì•¡ ì¡°íšŒ

1. ì‚¬ìš©ìž ì •ì˜ í•„ë“œë¥¼ ì¶”ê°€ í›„
2.  ì§ˆì˜ ì™„ì„±
3. í•„ë“œì— í¬ì»¤ìŠ¤ë¥¼ ë‘ê³   Shift + Alt + F2 í•„ë“œì— ì ìš©í•  ì¿¼ë¦¬ ì„ íƒ. (ì €ìž¥ëœ ì‚¬ìš©ìž ì •ì˜ê°’)
4. íŒë§¤ ë¬¸ì„œì— í¬ì»¤ì‹±í•˜ê³  Tool - Edit Form UI - UDF í´ë¦­ 2ì´ˆ ë™ì•ˆ ëˆ„ë¥´ê³  ìžˆìœ¼ë©´ ì´ë™í•  ìˆ˜ ìžˆë‹¤.



#### ì‚¬ìš©ìž ì •ì˜ í•„ë“œ ë“±ë¡ì •ë³´

ì§ì ‘ ë§Œë“  ê²ƒì€ 'U_' ë¡œ ì‹œìž‘

###### SSMS ì—ì„œ ì¡°íšŒ

```mssql
use SBODemoKR;
select CardName, U_Acctbal
from ORDR
```



#### ì‚¬ìš©ìž ì •ì˜ ê°’ì— ì§ˆì˜ ì‚¬ìš©

ì‚¬ìš©í•˜ê³ ìž í•˜ëŠ” í•„ë“œì— ì»¤ì„œ ì˜¬ë¦° í›„ Alt + Shift + F2 ë¥¼ ëˆŒëŸ¬ ì¶”ê°€

ì‚¬ìš©ìž ì •ì˜ ê°’ ìžë™ ë³€ê²½ í•„ìš” ì‹œ ìžë™ ìƒˆë¡œê³ ì¹¨ ê¸°ëŠ¥ ì´ìš©

1. ì €ìž¥ëœ ì‚¬ìš©ìž ì •ì˜ ê°’ ì¡°íšŒ (Default)
   - ì§ˆì˜ê°€ í•œ ë²ˆ ì‹¤í–‰ë˜ë©´ í•„ë“œ ë‚´ì— ê²°ê³¼ê°€ ìœ ì§€ ëœë‹¤.
2. ì •ê¸°ì  ìƒˆë¡œ ê³ ì¹¨
   - ì¢…ì† í•„ë“œê°€ ë³€ê²½ë˜ê±°ë‚˜ ë¬¸ì„œì—ì„œ ì„ íƒë  ë•Œë§ˆë‹¤ ì§ˆì˜ë¥¼ ì‹¤í–‰í•œë‹¤.



### ì‚¬ìš©ìž ì •ì˜ í…Œì´ë¸” UDT

1. tool - customizing - UDT ë§Œë“¦ : ì ‘ë‘ë¶€ ''@''ë¡œ ì‹œìž‘
2. '' - UDF - User Tablesì—ì„œ ì—´ ì¶”ê°€ [íˆ´ - ì»¤ìŠ¤í„°ë§ˆì´ì§• íˆ´ - ì‚¬ìš©ìž ì •ì˜ í•„ë“œ - ê´€ë¦¬]
3. UDFì— í…Œì´ë¸”ì„ ì—°ê²° í›„ User Definded Windows ì—ì„œ ì‚¬ìš©ìž ì •ì˜ í…Œì´ë¸” ì¡°íšŒ ê°€ëŠ¥. ì´ë•Œ, í…Œì´ë¸” ì´ë¦„ì€ @ë¡œ , ì—´ì€ UDFì´ë¯€ë¡œ U_ë¡œ ì‹œìž‘

ðŸš¨ Typeì´ No objectì¼ ë•Œë§Œ User Defined Windowì—ì„œ ì¡°íšŒ ê°€ëŠ¥.



###### SSMS ì—ì„œ ì¡°íšŒ

```mssql
use SBODemoKR;
SELECT *  FROM [dbo].[@DRIVERS]  T0
```



### ì‚¬ìš©ìž ì •ì˜ ì˜¤ë¸Œì íŠ¸(ë¬¸ì„œ) UDO

í—¤ë”ì™€ ë¼ì¸ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë¬¸ì„œ

1. UDT ìƒì„±ì°½ì—ì„œ íƒ€ìž…ì„ Documentì™€ Document Row ê°ê° ìƒì„±

2. ì‹ ê·œí…Œì´ë¸”ì„ ì˜¤ë¸Œì íŠ¸ ë“±ë¡ ë§ˆë²•ì‚¬ ì´ìš© ì˜¤ë¸Œì íŠ¸ ë“±ë¡ [íˆ´ - ì»¤ìŠ¤í„°ë§ˆì´ì§• íˆ´ - ì˜¤ë¸Œì íŠ¸ ë“±ë¡ ë§ˆë²•ì‚¬]

3. Unique IDë¥¼ Deliveryrqë¡œ ì§€ì •.

   ì§ˆì˜ì—ì„œ ì¡°íšŒì‹œ SELECT * FROM [@Deliveryrq]

4. Typeì„ Doc

5. ë§ˆìŠ¤í„° ì˜¤ë¸Œì íŠ¸ì™€ ì „í‘œ í˜•íƒœë¡œ ë§Œë“¤ì–´ì§„ UDTë§Œ UDOë¡œ ìƒì„± ê°€ëŠ¥í•˜ë‹¤.



### UI êµ¬ì„±

- Menu
- Form
- Item